<%- include('../../partials/header') %>
<main>
    <h1><%= title %></h1>
    <% if (users && users.length > 0) { %>
    <div class="users-list">
        <% users.forEach(user => { %>
        <div class="user-card">
            <div class="user-header">
                <h3><%= user.name %></h3>
                <span class="user-id">ID: <%= user.id %></span>
            </div>

            <div class="user-details">
                <div class="detail-item">
                    <div class="label">Email</div>
                    <div class="value"><%= user.email %></div>
                </div>

                <div class="detail-item">
                    <div class="label">Phone</div>
                    <div class="value"><%= user.phone || 'N/A' %></div>
                </div>

                <div class="detail-item">
                    <div class="label">Address</div>
                    <div class="value"><%= user.address || 'N/A' %></div>
                </div>

                <div class="detail-item">
                    <div class="label">Registered</div>
                    <div class="value"><%= new Date(user.created_at).toLocaleDateString() %></div>
                </div>
            </div>
            <form action="/register/delete/<%= user.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this user?');" style="margin-top:10px;">
                <button type="submit" class="delete-btn">Delete</button>
            </form>
        </div>
        <% }); %>
    </div>
    <% } else { %>
    <p class="no-users">No users registered yet.</p>
    <% } %>

</main>
<%- include('../../partials/footer') %>